(this.webpackJsonpquiztools=this.webpackJsonpquiztools||[]).push([[0],{125:function(e,t,n){},127:function(e,t,n){},164:function(e,t,n){"use strict";n.r(t);var a=n(2),s=n(0),c=n.n(s),i=n(16),r=n.n(i),o=(n(125),n(28)),u=n(9),j=n(37),d=n(18),l=n(75),b=n(76),O=n(77),h=n(98),p=c.a.createContext(),x=function(e){var t=Object(s.useState)("fi"),n=Object(u.a)(t,2),c=n[0],i=n[1],r=Object(s.useState)("fi"),o=Object(u.a)(r,2),j=o[0],d=o[1];return Object(a.jsx)(p.Provider,{value:{locale:c,selectLanguage:function(e){var t=e.target.value;i(t),d("fi"===t?b:"vi"===t?O:h)}},children:Object(a.jsx)(l.a,{messages:j,locale:c,children:e.children})})},m=n(208),f=n(64),v=(n(127),n(10)),g=n.n(v),w=n(23),k=n(29),y=n.n(k),S=n(24),C=n.n(S),N=n(207),q=n(209),D=n(69),M=n.n(D),I=n(212),L=n(94),T=(n(104),n(101),function(e){var t=Object(d.f)(),n=(t.path,t.url,e.host),c=Object(s.useState)([]),i=Object(u.a)(c,2),r=i[0],o=i[1],j=Object(s.useState)(0),l=Object(u.a)(j,2);l[0],l[1];Object(s.useEffect)((function(){(function(){var t=Object(w.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:C.a.get(n+":5000/vastaukset/"+e.questionID).then((function(e){console.log("response",e.data),o(e.data)}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]);var b=function(){var e=Object(w.a)(g.a.mark((function e(t,a,s,c){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C.a.put(n+"5000/muokkaavastaus/".concat(t,"/").concat(a,"/").concat(s.id,"/").concat(c.target.value,"/").concat(s.oikea,"/"));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a,s){return e.apply(this,arguments)}}(),O=function(){var e=Object(w.a)(g.a.mark((function e(t,a,s,c){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C.a.put(n+":5000/muokkaavastaus/".concat(t,"/").concat(a,"/").concat(s.id,"/").concat(s.vastausteksti,"/").concat(c.target.checked,"/"));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a,s){return e.apply(this,arguments)}}(),h=function(){var e=Object(w.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C.a.delete(n+":5000/poistavastaus/".concat(t.id));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.length<1?Object(a.jsx)(a.Fragment,{}):Object(a.jsx)("div",{className:"Answer-list",children:Object(a.jsx)("div",{children:r.map((function(t){return Object(a.jsxs)("div",{className:"answer",children:[Object(a.jsx)(I.a,{defaultChecked:t.oikea,onClick:function(n){return O(e.examID,e.questionID,t,n)}},y()()),Object(a.jsx)(q.a,{label:Object(a.jsx)(L.a,{id:"answer",defaultMessage:"Vastaus",description:"Answer"}),variant:"outlined",style:{width:"45%"},defaultValue:t.vastausteksti,onBlur:function(n){return b(e.examID,e.questionID,t,n)}},y()()),Object(a.jsx)(M.a,{onClick:function(e){return h(t)}},y()())]})}))})})}),E=function(e){var t=Object(d.f)(),n=(t.path,t.url,e.host),c=Object(s.useState)([]),i=Object(u.a)(c,2),r=i[0],o=i[1],j=Object(s.useState)(0),l=Object(u.a)(j,2),b=l[0],O=l[1],h=Object(s.useState)(""),p=Object(u.a)(h,2);p[0],p[1];Object(s.useEffect)((function(){(function(){var t=Object(w.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:C.a.get(n+":5000/kysymykset/"+e.examID).then((function(e){o(e.data)}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e.examID,b]);var x=function(){var e=Object(w.a)(g.a.mark((function e(t,a,s){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C.a.put(n+":5000/muokkaakysymys/".concat(t,"/").concat(a,"/").concat(s.target.value.toString()));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),f=function(){var e=Object(w.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C.a.post(n+":5000/lisaakysymys/".concat(t,"/' '"));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(w.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C.a.delete(n+":5000/poistakysymys/".concat(t.id));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(w.a)(g.a.mark((function e(t,a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C.a.post(n+":5000/lisaavastaus/".concat(t,"/").concat(a,"/' '/false")),O(t);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return r.length<1?Object(a.jsx)("div",{children:Object(a.jsx)("div",{children:Object(a.jsx)(m.a,{color:"primary",onClick:function(){return f(e.examID)},children:Object(a.jsx)(L.a,{id:"add-question",defaultMessage:"Lis\xe4\xe4 kysymys",description:"Add question"})},y()())})}):Object(a.jsx)("div",{className:"Question-list",children:Object(a.jsxs)(N.a,{style:{width:"75%"},children:[Object(a.jsxs)("div",{children:[O[e.e],r.map((function(t,s){return Object(a.jsxs)("div",{className:"Question",children:[Object(a.jsx)(q.a,{label:Object(a.jsx)(L.a,{id:"question",defaultMessage:"Kysymys",description:"Question"}),style:{width:"50%"},variant:"outlined",defaultValue:t.teksti,onBlur:function(n){return x(e.examID,t.id,n)}},y()()),Object(a.jsx)(M.a,{onClick:function(e){return v(t)}},y()()),Object(a.jsx)(T,{host:n,examID:e.examID,questionID:t.id},y()()),Object(a.jsx)("div",{id:t.index,children:Object(a.jsx)(m.a,{color:"primary",onClick:function(){return k(e.examID,t.id)},children:Object(a.jsx)(L.a,{id:"add-answer",defaultMessage:"Lis\xe4\xe4 vastaus",description:"Add answer"})},y()())})]})}))]}),Object(a.jsx)("div",{children:Object(a.jsx)(m.a,{color:"primary",onClick:function(){return f(e.examID)},children:Object(a.jsx)(L.a,{id:"add-question",defaultMessage:"Lis\xe4\xe4 kysymys",description:"Add question"})},y()())})]})})},A=n(215),K=n(214),R=function(e){var t=Object(d.f)(),n=t.path,c=t.url,i=e.host,r=Object(s.useState)([]),o=Object(u.a)(r,2),l=o[0],b=o[1],O=Object(s.useState)(),h=Object(u.a)(O,2),p=h[0],x=h[1],f=Object(s.useState)(!1),v=Object(u.a)(f,2),k=v[0],S=v[1],N=Object(s.useState)(""),q=Object(u.a)(N,2),D=q[0];q[1];Object(s.useEffect)((function(){(function(){var t=Object(w.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log(e),C.a.get(i+"/tentit").then((function(e){b(e.data)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]);var M=function(){var e=Object(w.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C.a.post("http://localhost:5000/lisaatentti/".concat(D));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return l.length<1?Object(a.jsx)(a.Fragment,{children:"loading..."}):Object(a.jsxs)("div",{className:"Exam-list",children:[Object(a.jsxs)("div",{children:[l.map((function(e,t){return Object(a.jsx)(m.a,{component:j.b,to:"".concat(c,"/").concat(e.id),color:"primary",onClick:function(){return x(e.id)},children:e.nimi},y()())})),Object(a.jsx)(m.a,{color:"primary",onClick:function(){S(!0)},children:"+"}),Object(a.jsx)(V,{examName:D,open:k,onClose:function(){S(!1),D&&M(D)}})]}),Object(a.jsxs)(d.c,{children:[Object(a.jsx)(d.a,{exact:!0,path:n}),Object(a.jsx)(d.a,{path:"".concat(n,"/:id"),children:Object(a.jsx)(E,{examID:p,host:i})})]})]})};function V(e){var t=e.open,n=e.onClose,s=e.examName;return Object(a.jsxs)(K.a,{onClose:void n(s),open:t,children:[Object(a.jsx)(A.a,{id:"newExamDialog",children:Object(a.jsx)(L.a,{id:"new-exam-title",description:"Translation for new exam input"})}),Object(a.jsx)(q.a,{children:"teksti"},y()()),Object(a.jsx)(m.a,{children:"Uus tentti"}),Object(a.jsx)(m.a,{children:"Peruuta"})]})}var Q=n(15),z=function(){var e=Object(s.useState)({etunimi:"",sukunimi:"",email:"",salasana:"",admin:""}),t=Object(u.a)(e,2),n=t[0],c=t[1],i=function(e){c(Object(o.a)(Object(o.a)({},n),{},Object(Q.a)({},e.target.name,e.target.value)))},r=function(){var e=Object(w.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,C.a.post("http://localhost:5000/register/".concat(n.etunimi,"/").concat(n.sukunimi,"/").concat(n.email,"/").concat(n.salasana,"/").concat(n.admin));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log("registration error");case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{children:Object(a.jsx)("div",{className:"Register",children:Object(a.jsxs)("form",{onSubmit:r,children:[Object(a.jsx)("div",{children:Object(a.jsx)(q.a,{name:"etunimi",label:Object(a.jsx)(L.a,{id:"firstName",defaultMessage:"Etunimi",description:"First name"}),onChange:function(e){i(e)}})}),Object(a.jsx)("p",{}),Object(a.jsx)("div",{children:Object(a.jsx)(q.a,{name:"sukunimi",label:Object(a.jsx)(L.a,{id:"surName",defaultMessage:"Sukunimi",description:"Last name"}),onChange:function(e){i(e)}})}),Object(a.jsx)("p",{}),Object(a.jsx)("div",{children:Object(a.jsx)(q.a,{name:"email",label:Object(a.jsx)(L.a,{id:"email",defaultMessage:"S\xe4hk\xf6postiosoite",description:"Email"}),onChange:function(e){i(e)}})}),Object(a.jsx)("p",{}),Object(a.jsx)("div",{children:Object(a.jsx)(q.a,{name:"salasana",label:Object(a.jsx)(L.a,{id:"password",defaultMessage:"Salasana",description:"Password"}),type:"password",onChange:function(e){i(e)}})}),Object(a.jsx)("p",{}),Object(a.jsx)("div",{children:Object(a.jsx)(q.a,{name:"admin",label:Object(a.jsx)(L.a,{id:"admin",defaultMessage:"Opettaja",description:"Teacher password"}),onChange:function(e){i(e)}})}),Object(a.jsx)("p",{}),Object(a.jsx)(m.a,{onClick:r,children:Object(a.jsx)(L.a,{id:"register.button",defaultMessage:"Rekister\xf6idy",description:"Register/register button"})})]})})})},J=function(){var e=Object(s.useState)({email:"",salasana:""}),t=Object(u.a)(e,2),n=t[0],c=t[1],i=function(e){c(Object(o.a)(Object(o.a)({},n),{},Object(Q.a)({},e.target.name,e.target.value)))},r=function(){var e=Object(w.a)(g.a.mark((function e(t){var a,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),e.next=4,C.a.post("http://localhost:5000/login/",n);case 4:return a=e.sent,console.log(a.data),e.next=8,a.data.token;case 8:s=e.sent,localStorage.setItem("token",s),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("registration error");case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"Login",children:[Object(a.jsx)("div",{children:Object(a.jsx)(q.a,{name:"email",label:Object(a.jsx)(L.a,{id:"email",defaultMessage:"S\xe4hk\xf6postiosoite",description:"email address"}),onChange:function(e){i(e)}})}),Object(a.jsx)("p",{}),Object(a.jsx)("div",{children:Object(a.jsx)(q.a,{name:"salasana",label:Object(a.jsx)(L.a,{id:"password",defaultMessage:"Salasana",description:"Password"}),type:"password",onChange:function(e){i(e)}})}),Object(a.jsx)("p",{}),Object(a.jsx)("div",{children:Object(a.jsx)(m.a,{onClick:r,children:Object(a.jsx)(L.a,{id:"login.button",defaultMessage:"Kirjaudu sis\xe4\xe4n",description:"Login button"})})})]})},P=n(38),B=n(213),F=n(210),H=n(103);function U(){return null}var W=function(e){var t=null;t="https://jv-quiztool.herokuapp.com";var n=Object(s.useContext)(p),c=Object(s.useState)([]),i=Object(u.a)(c,2),r=(i[0],i[1],Object(s.useState)(!1)),l=Object(u.a)(r,2),b=(l[0],l[1],Object(s.useReducer)((function(e,t){switch(t.type){case"INIT_DATA":return t.data;default:throw new Error}}),[])),O=Object(u.a)(b,2),h=(O[0],O[1],Object(s.useState)(!1)),x=Object(u.a)(h,2),v=x[0],g=x[1],w=Object(s.useState)(""),k=Object(u.a)(w,2),y=k[0],S=k[1],C=new H.w3cwebsocket("ws://".concat(t,":3001"));function N(e){return Object(a.jsx)(F.a,Object(o.a)({elevation:6,variant:"filled"},e))}function q(e){return Object(a.jsx)(f.a,Object(o.a)(Object(o.a)({},e),{},{children:Object(a.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"})}))}return Object(s.useEffect)((function(){C.onopen=function(e){console.log("WebSocket connection open.")},C.onmessage=function(e){console.log("client.onmessage ",e.data),S(e.data),g(!0)}}),[C.onChange]),Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(j.a,{children:Object(a.jsxs)("div",{children:[Object(a.jsxs)("nav",{children:[Object(a.jsx)(m.a,{component:j.b,to:"/",children:Object(a.jsx)(q,{color:"action"})}),Object(a.jsx)(m.a,{component:j.b,to:"/tentit",children:Object(a.jsx)(L.a,{id:"tentit.button",defaultMessage:"Tentit",description:"Navigation/exams button"})}),Object(a.jsx)(m.a,{component:j.b,to:"/login",children:Object(a.jsx)(L.a,{id:"login.button",defaultMessage:"Kirjaudu",description:"Navigation/login button"})}),Object(a.jsx)(m.a,{component:j.b,to:"/register",children:Object(a.jsx)(L.a,{id:"register.button",defaultMessage:"Rekister\xf6idy",description:"Navigation/register button"})}),Object(a.jsxs)("select",{className:"language-selector",value:n.locale,onChange:n.selectLanguage,children:[Object(a.jsx)("option",{value:"en-gb",children:"English"}),Object(a.jsx)("option",{value:"fi",children:"suomi"}),Object(a.jsx)("option",{value:"vi",children:"Ti\u1ebfng Vi\u1ec7t"})]}),Object(a.jsx)("text",{className:"date-time",children:Object(a.jsx)(P.a,{value:e.date,year:"numeric",month:"numeric",day:"numeric",weekday:"long"})})]}),Object(a.jsxs)(d.c,{children:[Object(a.jsx)(d.a,{path:"/register",children:Object(a.jsx)(z,{})}),Object(a.jsx)(d.a,{path:"/login",children:Object(a.jsx)(J,{})}),Object(a.jsx)(d.a,{path:"/tentit",children:Object(a.jsx)(R,{host:t})}),Object(a.jsx)(d.a,{path:"/",children:Object(a.jsx)(U,{})})]})]})}),Object(a.jsxs)("div",{children:[console.log("Render\xf6innin viesti:",y),Object(a.jsx)(B.a,{open:v,onClose:function(e,t){g(!1)},autoHideDuration:3e3,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:Object(a.jsx)(N,{severity:"info",children:Object(a.jsx)(L.a,{id:y.toString(),description:"Translations for alert messages"})})})," "]})]})};r.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(x,{children:Object(a.jsx)(W,{date:Date.now()})})}),document.getElementById("root"))},76:function(e){e.exports=JSON.parse('{"tentit.button":"Tentit","login.button":"Kirjaudu","register.button":"Rekister\xf6idy","firstName":"Etunimi","surName":"Sukunimi","email":"S\xe4hk\xf6posti","password":"Salasana","admin":"Opettajan salasana","question":"Kysymys","add-answer":"Lis\xe4\xe4 vastaus","add-question":"Lis\xe4\xe4 kysymys","answer":"Vastaus","exam-changed":"Tentin nime\xe4 muokattu","question-changed":"Kysymyst\xe4 muokattu","answer-changed":"Vastausta muokattu","new-exam":"Lis\xe4tty uusi tentti","new-question":"Lis\xe4tty uusi kysymys","new-answer":"Lis\xe4tty uusi vastaus","delete-exam":"Tentti poistettu","delete-question":"Kysymys poistettu","delete-answer":"Vastaus poistettu","new-exam-title":"Kirjoita uuden tentin nimi"}')},77:function(e){e.exports=JSON.parse('{"tentit.button":"K\u1ef3 thi","login.button":"\u0110\u0103ng nh\xe2\u0323p","register.button":"\u0110\u0103ng k\xfd","firstName":"T\xean \u0111\u1ea7u ti\xean","surName":"H\u1ecd","email":"email","password":"m\u1eadt kh\u1ea9u","admin":"H\u1ed3 Ch\xed Minh?","question":"C\xe2u ch\xe2\u0341t v\xe2\u0341n","add-answer":"Th\xeam c\xe2u tr\u1ea3 l\u1eddi","add-question":"Th\xeam c\xe2u h\u1ecfi","answer":"C\xe2u tr\u1ea3 l\u1eddi","exam-changed":"T\xean b\xe0i ki\u1ec3m tra \u0111\xe3 thay \u0111\u1ed5i","question-changed":"C\xe2u h\u1ecfi \u0111\xe3 thay \u0111\u1ed5i","answer-changed":"C\xe2u tr\u1ea3 l\u1eddi \u0111\xe3 thay \u0111\u1ed5i","new-exam":"B\xe0i ki\u1ec3m tra m\u1edbi \u0111\xe3 \u0111\u01b0\u1ee3c th\xeam v\xe0o","new-question":"\u0110\xe3 th\xeam c\xe2u h\u1ecfi m\u1edbi","new-answer":"\u0110\xe3 th\xeam c\xe2u tr\u1ea3 l\u1eddi m\u1edbi","delete-exam":"\u0110\xe3 x\xf3a b\xe0i ki\u1ec3m tra","delete-question":"\u0110\xe3 x\xf3a c\xe2u h\u1ecfi","delete-answer":"\u0110\xe3 x\xf3a c\xe2u tr\u1ea3 l\u1eddi","new-exam-title":"Nh\u1eadp t\xean b\xe0i ki\u1ec3m tra m\u1edbi"}')},98:function(e){e.exports=JSON.parse('{"tentit.button":"Exams","login.button":"Login","register.button":"Register","firstName":"First name","surName":"Last name","email":"email","password":"Password","admin":"Teacher password","question":"Question","add-answer":"Add answer","add-question":"Add question","answer":"Answer","exam-changed":"Exam name changed","question-changed":"Question changed","answer-changed":"Answer changed","new-exam":"New exam created","new-question":"New question added","new-answer":"New answer added","delete-exam":"Exam deleted","delete-question":"Question deleted","delete-answer":"Answer deleted","new-exam-title":"Type new exam name"}')}},[[164,1,2]]]);
//# sourceMappingURL=main.12914a1c.chunk.js.map