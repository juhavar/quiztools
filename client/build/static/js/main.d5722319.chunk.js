(this.webpackJsonpquiztools=this.webpackJsonpquiztools||[]).push([[0],{129:function(e,t,n){},131:function(e,t,n){},165:function(e,t,n){"use strict";n.r(t);var a=n(2),s=n(0),i=n.n(s),c=n(17),r=n.n(c),o=(n(129),n(30)),u=n(8),l=n(28),d=n(19),j=n(73),b=n(74),m=n(75),h=n(97),O=i.a.createContext(),x=function(e){var t=Object(s.useState)("fi"),n=Object(u.a)(t,2),i=n[0],c=n[1],r=Object(s.useState)("fi"),o=Object(u.a)(r,2),l=o[0],d=o[1];return Object(a.jsx)(O.Provider,{value:{locale:i,selectLanguage:function(e){var t=e.target.value;c(t),d("fi"===t?b:"vi"===t?m:h)}},children:Object(a.jsx)(j.a,{messages:l,locale:i,children:e.children})})},p=n(201),g=n(63),f=(n(131),n(7)),w=n.n(f),v=n(14),y=n(24),k=n.n(y),S=n(15),q=n.n(S),N=(n(200),n(206)),C=(n(57),n(207)),M=n(93),L=(n(102),n(100),null);function I(e){return T.apply(this,arguments)}function T(){return(T=Object(v.a)(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.a.post(L+"/login/",t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function D(e){return E.apply(this,arguments)}function E(){return(E=Object(v.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.a.post(L+"/register/".concat(t.etunimi,"/").concat(t.sukunimi,"/").concat(t.email,"/").concat(t.salasana,"/").concat(t.admin));case 3:e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("registration error");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function P(e,t,n,a){return A.apply(this,arguments)}function A(){return(A=Object(v.a)(w.a.mark((function e(t,n,a,s){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{q.a.put(L+"/muokkaavastaus/".concat(t,"/").concat(n,"/").concat(a.id,"/").concat(a.vastausteksti,"/").concat(s.target.checked,"/"))}catch(i){console.log("oikean vastauksen vaihto ei onnistunut")}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}L="https://jv-quiztool.herokuapp.com",q.a.defaults.headers={"Content-type":"application/json",token:window.localStorage.token,admin:window.localStorage.admin};n(202),n(209),n(205),n(203),n(204);var K=function(e){var t=Object(d.g)(),n=(t.path,t.url,e.host),i=Object(s.useState)([]),c=Object(u.a)(i,2),r=c[0],o=c[1],l=Object(s.useState)(0),j=Object(u.a)(l,2);j[0],j[1];return Object(s.useEffect)((function(){(function(){var t=Object(v.a)(w.a.mark((function t(){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{q.a.get(n+"/vastaukset/"+e.questionID).then((function(e){console.log("response",e.data),o(e.data)}))}catch(a){console.log(a)}case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),r.length<1?Object(a.jsx)(a.Fragment,{}):Object(a.jsx)("div",{className:"Answer-list",children:Object(a.jsx)("div",{children:r.map((function(t){return Object(a.jsxs)("div",{className:"user-answer",children:[Object(a.jsx)(C.a,{onClick:function(n){return P(e.examID,e.questionID,t,n)}},k()()),Object(a.jsx)(N.a,{label:Object(a.jsx)(M.a,{id:"answer",defaultMessage:"Vastaus",description:"Answer"}),variant:"outlined",style:{width:"90%"},inputProps:{readOnly:!0},defaultValue:t.vastausteksti},k()())]})}))})})},F=function(e){var t=Object(d.g)(),n=(t.path,t.url),i=Object(s.useState)([]),c=Object(u.a)(i,2),r=c[0],o=c[1],l=Object(s.useState)(0),j=Object(u.a)(l,2);j[0],j[1];Object(s.useEffect)((function(){(function(){var t=Object(v.a)(w.a.mark((function t(){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:q.a.get(e.host+"/kysymykset/"+e.examID).then((function(e){o(e.data)}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[n]);return r.length<1?Object(a.jsx)(a.Fragment,{children:"loading..."}):Object(a.jsxs)("div",{className:"Question list",children:[Object(a.jsx)("div",{children:r.map((function(t,n){return Object(a.jsxs)("div",{children:[Object(a.jsx)(N.a,{variant:"outlined",value:t.teksti,style:{width:"91%"},inputProps:{readOnly:!0}}),Object(a.jsx)(K,{questionID:t.id,host:e.host})]})}))}),Object(a.jsx)("div",{children:Object(a.jsx)(p.a,{color:"primary",children:"N\xe4yt\xe4 vastaukset"})})]})},R=function(e){var t=Object(d.g)(),n=t.path,i=t.url,c=e.host,r=Object(s.useState)([]),o=Object(u.a)(r,2),j=o[0],b=o[1],m=Object(s.useState)(),h=Object(u.a)(m,2),O=h[0],x=h[1],g=Object(s.useState)(!1),f=Object(u.a)(g,2),y=(f[0],f[1]),S=Object(s.useState)(""),N=Object(u.a)(S,2),C=(N[0],N[1],window.localStorage.token),M=window.localStorage.admin;Object(s.useEffect)((function(){(function(){var t=Object(v.a)(w.a.mark((function t(){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log(e),q.a.get(c+"/tentit",{headers:{token:C},admin:M}).then((function(e){b(e.data)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[O]);return j.length<1?Object(a.jsx)(a.Fragment,{children:"loading..."}):Object(a.jsxs)("div",{className:"Exam-list",children:[Object(a.jsxs)("div",{children:[j.map((function(e,t){return Object(a.jsx)(p.a,{component:l.b,to:"".concat(i,"/").concat(e.id),color:"primary",onClick:function(){return x(e.id)},children:e.nimi},k()())})),"true"===window.localStorage.admin?Object(a.jsx)(p.a,{color:"primary",onClick:function(){console.log("huhuu"),y(!0)},children:"+"}):null,Object(a.jsx)(F,{examID:O,host:c})]}),Object(a.jsx)(d.c,{children:Object(a.jsx)(d.a,{path:"".concat(n,"/:id")})})]})},H=n(22),V=function(){var e=Object(s.useState)({etunimi:"",sukunimi:"",email:"",salasana:"",admin:""}),t=Object(u.a)(e,2),n=t[0],i=t[1],c=function(e){i(Object(o.a)(Object(o.a)({},n),{},Object(H.a)({},e.target.name,e.target.value)))},r=function(){var e=Object(v.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),D(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{children:Object(a.jsx)("div",{className:"Register",children:Object(a.jsxs)("form",{onSubmit:r,children:[Object(a.jsx)("div",{children:Object(a.jsx)(N.a,{name:"etunimi",label:Object(a.jsx)(M.a,{id:"firstName",defaultMessage:"Etunimi",description:"First name"}),onChange:function(e){c(e)}})}),Object(a.jsx)("p",{}),Object(a.jsx)("div",{children:Object(a.jsx)(N.a,{name:"sukunimi",label:Object(a.jsx)(M.a,{id:"surName",defaultMessage:"Sukunimi",description:"Last name"}),onChange:function(e){c(e)}})}),Object(a.jsx)("p",{}),Object(a.jsx)("div",{children:Object(a.jsx)(N.a,{name:"email",label:Object(a.jsx)(M.a,{id:"email",defaultMessage:"S\xe4hk\xf6postiosoite",description:"Email"}),onChange:function(e){c(e)}})}),Object(a.jsx)("p",{}),Object(a.jsx)("div",{children:Object(a.jsx)(N.a,{name:"salasana",label:Object(a.jsx)(M.a,{id:"password",defaultMessage:"Salasana",description:"Password"}),type:"password",onChange:function(e){c(e)}})}),Object(a.jsx)("p",{}),Object(a.jsx)("div",{children:Object(a.jsx)(N.a,{name:"admin",label:Object(a.jsx)(M.a,{id:"admin",defaultMessage:"Opettaja",description:"Teacher password"}),onChange:function(e){c(e)}})}),Object(a.jsx)("p",{}),Object(a.jsx)(p.a,{onClick:r,children:Object(a.jsx)(M.a,{id:"register.button",defaultMessage:"Rekister\xf6idy",description:"Register/register button"})})]})})})},z=function(e){var t=Object(s.useState)(null),n=Object(u.a)(t,2),i=(n[0],n[1],Object(s.useState)(!1)),c=Object(u.a)(i,2),r=(c[0],c[1],Object(s.useState)({email:"",salasana:""})),l=Object(u.a)(r,2),j=l[0],b=l[1],m=Object(d.f)(),h=function(e){b(Object(o.a)(Object(o.a)({},j),{},Object(H.a)({},e.target.name,e.target.value)))},O=function(){var e=Object(v.a)(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),e.next=4,I(j);case 4:return n=e.sent,console.log(n),e.next=8,n;case 8:e.sent,window.localStorage.setItem("token",n.token),window.localStorage.setItem("admin",n.admin),m.push("/"),window.location.reload(),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log("registration error");case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"Login",children:[Object(a.jsx)("div",{children:Object(a.jsx)(N.a,{name:"email",label:Object(a.jsx)(M.a,{id:"email",defaultMessage:"S\xe4hk\xf6postiosoite",description:"email address"}),onChange:function(e){h(e)}})}),Object(a.jsx)("p",{}),Object(a.jsx)("div",{children:Object(a.jsx)(N.a,{name:"salasana",label:Object(a.jsx)(M.a,{id:"password",defaultMessage:"Salasana",description:"Password"}),type:"password",onChange:function(e){h(e)}})}),Object(a.jsx)("p",{}),Object(a.jsx)("div",{children:Object(a.jsx)(p.a,{onClick:O,children:Object(a.jsx)(M.a,{id:"login.button",defaultMessage:"Kirjaudu sis\xe4\xe4n",description:"Login button"})})})]})},J=n(36);function X(){return null}var B=function(e){var t=null;t="https://jv-quiztool.herokuapp.com";var n=Object(s.useContext)(O),c=Object(s.useState)([]),r=Object(u.a)(c,2),j=(r[0],r[1],Object(s.useState)(!1)),b=Object(u.a)(j,2),m=(b[0],b[1],Object(s.useReducer)((function(e,t){switch(t.type){case"INIT_DATA":return t.data;default:throw new Error}}),[])),h=Object(u.a)(m,2),x=(h[0],h[1],Object(s.useState)(null)),f=Object(u.a)(x,2),w=f[0],v=f[1],y=Object(s.useState)(!1),k=Object(u.a)(y,2),S=k[0],q=k[1];function N(e){return Object(a.jsx)(g.a,Object(o.a)(Object(o.a)({},e),{},{children:Object(a.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"})}))}return Object(s.useEffect)((function(){v(window.localStorage.getItem("token")),q(null!==w)}),[w,S]),Object(a.jsx)("div",{className:"App",children:Object(a.jsx)(l.a,{children:Object(a.jsxs)("div",{children:[Object(a.jsxs)("nav",{children:[Object(a.jsx)(p.a,{component:l.b,to:"/",children:Object(a.jsx)(N,{color:"action"})}),S?Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)(p.a,{component:l.b,to:"/tentit",children:Object(a.jsx)(M.a,{id:"tentit.button",defaultMessage:"Tentit",description:"Navigation/exams button"})}),Object(a.jsx)(p.a,{onClick:function(){window.localStorage.removeItem("admin"),window.localStorage.removeItem("token"),v(null),q(!1)},component:l.b,to:"/",children:Object(a.jsx)(M.a,{id:"logout.button",defaultMessage:"Poistu",description:"Log out button"})})]}):Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)(p.a,{component:l.b,to:"/login",children:Object(a.jsx)(M.a,{id:"login.button",defaultMessage:"Kirjaudu",description:"Navigation/login button"})}),Object(a.jsx)(p.a,{component:l.b,to:"/register",children:Object(a.jsx)(M.a,{id:"register.button",defaultMessage:"Rekister\xf6idy",description:"Navigation/register button"})})]}),Object(a.jsxs)("select",{className:"language-selector",value:n.locale,onChange:n.selectLanguage,children:[Object(a.jsx)("option",{value:"en-gb",children:"English"}),Object(a.jsx)("option",{default:!0,value:"fi",children:"suomi"}),Object(a.jsx)("option",{value:"vi",children:"Ti\u1ebfng Vi\u1ec7t"})]}),Object(a.jsx)("text",{className:"date-time",children:Object(a.jsx)(J.a,{value:e.date,year:"numeric",month:"numeric",day:"numeric",weekday:"long"})})]}),Object(a.jsxs)(d.c,{children:[Object(a.jsx)(d.a,{path:"/register",children:Object(a.jsx)(V,{host:t})}),Object(a.jsx)(d.a,{path:"/login",children:Object(a.jsx)(z,{host:t,userLoggedIn:S,onChange:function(){q(!0)}})}),Object(a.jsx)(d.a,{path:"/tentit",children:Object(a.jsx)(R,{host:t})}),Object(a.jsx)(d.a,{path:"/",children:Object(a.jsx)(X,{})})]})]})})})};r.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(x,{children:Object(a.jsx)(B,{date:Date.now()})})}),document.getElementById("root"))},74:function(e){e.exports=JSON.parse('{"tentit.button":"Tentit","login.button":"Kirjaudu","register.button":"Rekister\xf6idy","logout.button":"Poistu","firstName":"Etunimi","surName":"Sukunimi","email":"S\xe4hk\xf6posti","password":"Salasana","admin":"Opettajan salasana","question":"Kysymys","add-answer":"Lis\xe4\xe4 vastaus","add-question":"Lis\xe4\xe4 kysymys","answer":"Vastaus","exam-changed":"Tentin nime\xe4 muokattu","question-changed":"Kysymyst\xe4 muokattu","answer-changed":"Vastausta muokattu","new-exam":"Lis\xe4tty uusi tentti","new-question":"Lis\xe4tty uusi kysymys","new-answer":"Lis\xe4tty uusi vastaus","delete-exam":"Poista tentti","delete-question":"Poista kysymys","delete-answer":"Poista vastaus","delete-exam-text":"Haluatko varmasti poistaa tentin?","delete-question-text":"Haluatko varmasti poistaa kysymyksen?","delete-answer-text":"Poista kysymys?","delete-warning":"Huomio! Toimintoa ei voi peruuttaa!","exam-deleted":"Tentti poistettu","question-deleted":"Kysymys poistettu","answer-deleted":"Vastaus poistettu","new-exam-title":"Kirjoita uuden tentin nimi","alert-confirm":"Poista","alert-cancel":"Peruuta"}')},75:function(e){e.exports=JSON.parse('{"tentit.button":"K\u1ef3 thi","login.button":"\u0110\u0103ng nh\xe2\u0323p","register.button":"\u0110\u0103ng k\xfd","logout.button":"\u0110\u0103ng xu\u1ea5t","firstName":"T\xean \u0111\u1ea7u ti\xean","surName":"H\u1ecd","email":"email","password":"m\u1eadt kh\u1ea9u","admin":"H\u1ed3 Ch\xed Minh?","question":"C\xe2u ch\xe2\u0341t v\xe2\u0341n","add-answer":"Th\xeam c\xe2u tr\u1ea3 l\u1eddi","add-question":"Th\xeam c\xe2u h\u1ecfi","answer":"C\xe2u tr\u1ea3 l\u1eddi","exam-changed":"T\xean b\xe0i ki\u1ec3m tra \u0111\xe3 thay \u0111\u1ed5i","question-changed":"C\xe2u h\u1ecfi \u0111\xe3 thay \u0111\u1ed5i","answer-changed":"C\xe2u tr\u1ea3 l\u1eddi \u0111\xe3 thay \u0111\u1ed5i","new-exam":"B\xe0i ki\u1ec3m tra m\u1edbi \u0111\xe3 \u0111\u01b0\u1ee3c th\xeam v\xe0o","new-question":"\u0110\xe3 th\xeam c\xe2u h\u1ecfi m\u1edbi","new-answer":"\u0110\xe3 th\xeam c\xe2u tr\u1ea3 l\u1eddi m\u1edbi","delete-exam":"X\xf3a b\xe0i ki\u1ec3m tra","delete-question":"X\xf3a c\xe2u h\u1ecfi","delete-answer":"X\xf3a c\xe2u tr\u1ea3 l\u1eddi","exam-deleted":"\u0110\xe3 x\xf3a b\xe0i ki\u1ec3m tra","question-deleted":"\u0110\xe3 x\xf3a c\xe2u h\u1ecfi","answer-deleted":"\u0110\xe3 x\xf3a c\xe2u tr\u1ea3 l\u1eddi","delete-exam-text":"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a b\xe0i ki\u1ec3m tra n\xe0y kh\xf4ng?","delete-question-text":"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a c\xe2u h\u1ecfi n\xe0y kh\xf4ng?","delete-answer-text":"X\xf3a c\xe2u tr\u1ea3 l\u1eddi?","delete-warning":"C\u1ea3nh b\xe1o thao t\xe1c n\xe0y l\xe0 v\u0129nh vi\u1ec5n!","new-exam-title":"Nh\u1eadp t\xean b\xe0i ki\u1ec3m tra m\u1edbi","alert-confirm":"X\xe1c nh\u1eadn","alert-cancel":"H\u1ee7y"}')},97:function(e){e.exports=JSON.parse('{"tentit.button":"Exams","login.button":"Login","register.button":"Register","logout.button":"Log out","firstName":"First name","surName":"Last name","email":"email","password":"Password","admin":"Teacher password","question":"Question","add-answer":"Add answer","add-question":"Add question","answer":"Answer","exam-changed":"Exam name changed","question-changed":"Question changed","answer-changed":"Answer changed","new-exam":"New exam created","new-question":"New question added","new-answer":"New answer added","delete-exam":"Delete exam","delete-question":"Delete question","delete-answer":"Delete answer","delete-exam-text":"Are you sure you want to delete this exam?","delete-question-text":"Are you sure you want to delete this question?","delete-answer-text":"Delete answer?","delete-warning":"Warning this operation is permanent!","exam-deleted":"Exam deleted","question-deleted":"Question deleted","answer-deleted":"Answer deleted","new-exam-title":"Type new exam name","alert-confirm":"Confirm","alert-cancel":"Cancel"}')}},[[165,1,2]]]);
//# sourceMappingURL=main.d5722319.chunk.js.map