(this.webpackJsonpquiztools=this.webpackJsonpquiztools||[]).push([[0],{120:function(e,t,a){},122:function(e,t,a){},156:function(e,t,a){"use strict";a.r(t);var n=a(2),s=a(0),c=a.n(s),i=a(15),r=a.n(i),o=(a(120),a(29)),u=a(9),l=a(34),j=a(19),d=a(73),b=a(74),h=a(75),p=a(97),m=c.a.createContext(),O=function(e){var t=Object(s.useState)("fi"),a=Object(u.a)(t,2),c=a[0],i=a[1],r=Object(s.useState)("fi"),o=Object(u.a)(r,2),l=o[0],j=o[1];return Object(n.jsx)(m.Provider,{value:{locale:c,selectLanguage:function(e){var t=e.target.value;i(t),j("fi"===t?b:"vi"===t?h:p)}},children:Object(n.jsx)(d.a,{messages:l,locale:c,children:e.children})})},x=a(200),f=a(62),g=(a(122),a(7)),v=a.n(g),y=a(18),k=a(27),w=a.n(k),S=a(16),C=a.n(S),N=a(199),q=a(203),I=a(67),M=a.n(I),D=a(204),L=a(93),E=(a(102),a(100),null);function T(){return(T=Object(y.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{C.a.post(E+"/lisaatentti/".concat(t))}catch(a){console.log("Tentin lis\xe4\xe4minen m\xe4tt\xe4\xe4")}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){return K.apply(this,arguments)}function K(){return(K=Object(y.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{C.a.post(E+"/lisaakysymys/".concat(t,"/'"))}catch(a){console.log("Kysymyksen lis\xe4ys kosahti")}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return(P=Object(y.a)(v.a.mark((function e(t,a,n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{C.a.put(E+"/muokkaakysymys/".concat(t,"/").concat(a,"/").concat(n.target.value.toString()))}catch(s){console.log("Ei voitu muuttaa kysymyksen teksti\xe4.")}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return(R=Object(y.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{C.a.delete(E+"/poistakysymys/".concat(t.id))}catch(a){console.log("Ei voitu poistaa kysymyst\xe4")}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(){return(V=Object(y.a)(v.a.mark((function e(t,a){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{C.a.post(E+"/lisaavastaus/".concat(t,"/").concat(a,"/' '/false"))}catch(n){console.log("Ei voitu lis\xe4t\xe4 vastausta.")}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=Object(y.a)(v.a.mark((function e(t,a,n,s){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{C.a.put(E+"/muokkaavastaus/".concat(t,"/").concat(a,"/").concat(n.id,"/").concat(s.target.value,"/").concat(n.oikea,"/"))}catch(c){console.log("ei muutettu vastauksen teksti\xe4")}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(){return(Q=Object(y.a)(v.a.mark((function e(t,a,n,s){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{C.a.put(E+"/muokkaavastaus/".concat(t,"/").concat(a,"/").concat(n.id,"/").concat(n.vastausteksti,"/").concat(s.target.checked,"/"))}catch(c){console.log("oikean vastauksen vaihto ei onnistunut")}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(){return(z=Object(y.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{C.a.delete(E+"/poistavastaus/".concat(t.id))}catch(a){console.log("vastauksen poisto m\xe4tt\xe4\xe4")}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}E="https://jv-quiztool.herokuapp.com",C.a.defaults.headers={"Content-type":"application/json",token:localStorage.token,admin:localStorage.admin};var J=function(e){var t=Object(j.g)(),a=(t.path,t.url,e.host),c=Object(s.useState)([]),i=Object(u.a)(c,2),r=i[0],o=i[1],l=Object(s.useState)(0),d=Object(u.a)(l,2);d[0],d[1];return Object(s.useEffect)((function(){(function(){var t=Object(y.a)(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:C.a.get(a+"/vastaukset/"+e.questionID).then((function(e){console.log("response",e.data),o(e.data)}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),r.length<1?Object(n.jsx)(n.Fragment,{}):Object(n.jsx)("div",{className:"Answer-list",children:Object(n.jsx)("div",{children:r.map((function(t){return Object(n.jsxs)("div",{className:"answer",children:[Object(n.jsx)(D.a,{defaultChecked:t.oikea,onClick:function(a){return function(e,t,a,n){return Q.apply(this,arguments)}(e.examID,e.questionID,t,a)}},w()()),Object(n.jsx)(q.a,{label:Object(n.jsx)(L.a,{id:"answer",defaultMessage:"Vastaus",description:"Answer"}),variant:"outlined",style:{width:"45%"},defaultValue:t.vastausteksti,onBlur:function(a){return function(e,t,a,n){return F.apply(this,arguments)}(e.examID,e.questionID,t,a)}},w()()),Object(n.jsx)(M.a,{onClick:function(e){return function(e){return z.apply(this,arguments)}(t)}},w()())]})}))})})},B=function(e){var t=Object(j.g)(),a=(t.path,t.url,e.host),c=Object(s.useState)([]),i=Object(u.a)(c,2),r=i[0],o=i[1],l=Object(s.useState)(0),d=Object(u.a)(l,2),b=d[0],h=d[1],p=Object(s.useState)(""),m=Object(u.a)(p,2);m[0],m[1];return Object(s.useEffect)((function(){(function(){var t=Object(y.a)(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:C.a.get(a+"/kysymykset/"+e.examID).then((function(e){o(e.data)}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e.examID,b]),r.length<1?Object(n.jsx)("div",{children:Object(n.jsx)("div",{children:Object(n.jsx)(x.a,{color:"primary",onClick:function(){return A(e.examID)},children:Object(n.jsx)(L.a,{id:"add-question",defaultMessage:"Lis\xe4\xe4 kysymys",description:"Add question"})},w()())})}):Object(n.jsx)("div",{className:"Question-list",children:Object(n.jsxs)(N.a,{style:{width:"75%"},children:[Object(n.jsxs)("div",{children:[h[e.e],r.map((function(t,s){return Object(n.jsxs)("div",{className:"Question",children:[Object(n.jsx)(q.a,{label:Object(n.jsx)(L.a,{id:"question",defaultMessage:"Kysymys",description:"Question"}),style:{width:"50%"},variant:"outlined",defaultValue:t.teksti,onBlur:function(a){return function(e,t,a){return P.apply(this,arguments)}(e.examID,t.id,a)}},w()()),Object(n.jsx)(M.a,{onClick:function(e){return function(e){return R.apply(this,arguments)}(t)}},w()()),Object(n.jsx)(J,{host:a,examID:e.examID,questionID:t.id},w()()),Object(n.jsx)("div",{id:t.index,children:Object(n.jsx)(x.a,{color:"primary",onClick:function(){return function(e,t){return V.apply(this,arguments)}(e.examID,t.id)},children:Object(n.jsx)(L.a,{id:"add-answer",defaultMessage:"Lis\xe4\xe4 vastaus",description:"Add answer"})},w()())})]})}))]}),Object(n.jsx)("div",{children:Object(n.jsx)(x.a,{color:"primary",onClick:function(){return A(e.examID)},children:Object(n.jsx)(L.a,{id:"add-question",defaultMessage:"Lis\xe4\xe4 kysymys",description:"Add question"})},w()())})]})})},H=a(207),U=a(206),_=a(202),G=a(201),W=function(e){var t=Object(j.g)(),a=t.path,c=t.url,i=e.host,r=Object(s.useState)([]),o=Object(u.a)(r,2),d=o[0],b=o[1],h=Object(s.useState)(),p=Object(u.a)(h,2),m=p[0],O=p[1],f=Object(s.useState)(!1),g=Object(u.a)(f,2),k=g[0],S=g[1],N=Object(s.useState)(""),q=Object(u.a)(N,2),I=q[0],M=(q[1],localStorage.token),D=localStorage.admin;Object(s.useEffect)((function(){(function(){var t=Object(y.a)(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log(e),C.a.get(i+"/tentit",{headers:{token:M},admin:D}).then((function(e){b(e.data)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]);return d.length<1?Object(n.jsx)(n.Fragment,{children:"loading..."}):Object(n.jsxs)("div",{className:"Exam-list",children:[Object(n.jsxs)("div",{children:[d.map((function(e,t){return Object(n.jsx)(x.a,{component:l.b,to:"".concat(c,"/").concat(e.id),color:"primary",onClick:function(){return O(e.id)},children:e.nimi},w()())})),Object(n.jsx)(x.a,{color:"primary",onClick:function(){console.log("huhuu"),S(!0)},children:"+"}),Object(n.jsx)(X,{examName:I,open:k,onClose:function(){S(!1),I&&function(e){T.apply(this,arguments)}(I)}})]}),Object(n.jsxs)(j.c,{children:[Object(n.jsx)(j.a,{exact:!0,path:a}),Object(n.jsx)(j.a,{path:"".concat(a,"/:id"),children:Object(n.jsx)(B,{examID:m,host:i})})]})]})};function X(e){var t=e.open,a=e.onClose,s=e.examName,c=function(){a(s)};return Object(n.jsx)("div",{children:Object(n.jsxs)(U.a,{open:t,onClose:c(),children:[Object(n.jsx)(H.a,{id:"newExamDialog",children:Object(n.jsx)(L.a,{id:"new-exam-title",description:"Translation for new exam input"})}),Object(n.jsx)(G.a,{children:Object(n.jsx)(q.a,{children:"teksti"},w()())}),Object(n.jsxs)(_.a,{children:[Object(n.jsx)(x.a,{onClick:c(),children:"Uus tentti"}),Object(n.jsx)(x.a,{children:"Peruuta"})]})]})})}var Y=a(22),Z=function(){var e=Object(s.useState)({etunimi:"",sukunimi:"",email:"",salasana:"",admin:""}),t=Object(u.a)(e,2),a=t[0],c=t[1],i=function(e){c(Object(o.a)(Object(o.a)({},a),{},Object(Y.a)({},e.target.name,e.target.value)))},r=function(){var e=Object(y.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,C.a.post("http://localhost:5000/register/".concat(a.etunimi,"/").concat(a.sukunimi,"/").concat(a.email,"/").concat(a.salasana,"/").concat(a.admin));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log("registration error");case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{children:Object(n.jsx)("div",{className:"Register",children:Object(n.jsxs)("form",{onSubmit:r,children:[Object(n.jsx)("div",{children:Object(n.jsx)(q.a,{name:"etunimi",label:Object(n.jsx)(L.a,{id:"firstName",defaultMessage:"Etunimi",description:"First name"}),onChange:function(e){i(e)}})}),Object(n.jsx)("p",{}),Object(n.jsx)("div",{children:Object(n.jsx)(q.a,{name:"sukunimi",label:Object(n.jsx)(L.a,{id:"surName",defaultMessage:"Sukunimi",description:"Last name"}),onChange:function(e){i(e)}})}),Object(n.jsx)("p",{}),Object(n.jsx)("div",{children:Object(n.jsx)(q.a,{name:"email",label:Object(n.jsx)(L.a,{id:"email",defaultMessage:"S\xe4hk\xf6postiosoite",description:"Email"}),onChange:function(e){i(e)}})}),Object(n.jsx)("p",{}),Object(n.jsx)("div",{children:Object(n.jsx)(q.a,{name:"salasana",label:Object(n.jsx)(L.a,{id:"password",defaultMessage:"Salasana",description:"Password"}),type:"password",onChange:function(e){i(e)}})}),Object(n.jsx)("p",{}),Object(n.jsx)("div",{children:Object(n.jsx)(q.a,{name:"admin",label:Object(n.jsx)(L.a,{id:"admin",defaultMessage:"Opettaja",description:"Teacher password"}),onChange:function(e){i(e)}})}),Object(n.jsx)("p",{}),Object(n.jsx)(x.a,{onClick:r,children:Object(n.jsx)(L.a,{id:"register.button",defaultMessage:"Rekister\xf6idy",description:"Register/register button"})})]})})})},$=function(e){var t=Object(s.useState)(null),a=Object(u.a)(t,2),c=(a[0],a[1],Object(s.useState)(!1)),i=Object(u.a)(c,2),r=(i[0],i[1],Object(s.useState)({email:"",salasana:""})),l=Object(u.a)(r,2),d=l[0],b=l[1],h=Object(j.f)(),p=function(e){b(Object(o.a)(Object(o.a)({},d),{},Object(Y.a)({},e.target.name,e.target.value)))},m=function(){var t=Object(y.a)(v.a.mark((function t(a){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a.preventDefault(),t.next=4,C.a.post(e.host+"/login/",d);case 4:return n=t.sent,console.log(n.data),t.next=8,n.data;case 8:t.sent,localStorage.setItem("token",n.data.token),localStorage.setItem("admin",n.data.admin),h.push("/"),window.location.reload(),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),console.log("registration error");case 18:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e){return t.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"Login",children:[Object(n.jsx)("div",{children:Object(n.jsx)(q.a,{name:"email",label:Object(n.jsx)(L.a,{id:"email",defaultMessage:"S\xe4hk\xf6postiosoite",description:"email address"}),onChange:function(e){p(e)}})}),Object(n.jsx)("p",{}),Object(n.jsx)("div",{children:Object(n.jsx)(q.a,{name:"salasana",label:Object(n.jsx)(L.a,{id:"password",defaultMessage:"Salasana",description:"Password"}),type:"password",onChange:function(e){p(e)}})}),Object(n.jsx)("p",{}),Object(n.jsx)("div",{children:Object(n.jsx)(x.a,{onClick:m,children:Object(n.jsx)(L.a,{id:"login.button",defaultMessage:"Kirjaudu sis\xe4\xe4n",description:"Login button"})})})]})},ee=a(37);function te(){return null}var ae=function(e){var t=null;t="https://jv-quiztool.herokuapp.com";var a=Object(s.useContext)(m),i=Object(s.useState)([]),r=Object(u.a)(i,2),d=(r[0],r[1],Object(s.useState)(!1)),b=Object(u.a)(d,2),h=(b[0],b[1],Object(s.useReducer)((function(e,t){switch(t.type){case"INIT_DATA":return t.data;default:throw new Error}}),[])),p=Object(u.a)(h,2),O=(p[0],p[1],Object(s.useState)(null)),g=Object(u.a)(O,2),v=g[0],y=g[1],k=Object(s.useState)(!1),w=Object(u.a)(k,2),S=w[0],C=w[1];function N(e){return Object(n.jsx)(f.a,Object(o.a)(Object(o.a)({},e),{},{children:Object(n.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"})}))}return Object(s.useEffect)((function(){y(localStorage.getItem("token")),C(null!=v)}),[v,S]),Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(l.a,{children:Object(n.jsxs)("div",{children:[Object(n.jsxs)("nav",{children:[Object(n.jsx)(x.a,{component:l.b,to:"/",children:Object(n.jsx)(N,{color:"action"})}),S?Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsx)(x.a,{component:l.b,to:"/tentit",children:Object(n.jsx)(L.a,{id:"tentit.button",defaultMessage:"Tentit",description:"Navigation/exams button"})}),Object(n.jsx)(x.a,{onClick:function(){localStorage.removeItem("token"),y(null),C(!1)},component:l.b,to:"/",children:Object(n.jsx)(L.a,{id:"logout.button",defaultMessage:"Poistu",description:"Log out button"})})]}):Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsx)(x.a,{component:l.b,to:"/login",children:Object(n.jsx)(L.a,{id:"login.button",defaultMessage:"Kirjaudu",description:"Navigation/login button"})}),Object(n.jsx)(x.a,{component:l.b,to:"/register",children:Object(n.jsx)(L.a,{id:"register.button",defaultMessage:"Rekister\xf6idy",description:"Navigation/register button"})})]}),Object(n.jsxs)("select",{className:"language-selector",value:a.locale,onChange:a.selectLanguage,children:[Object(n.jsx)("option",{value:"en-gb",children:"English"}),Object(n.jsx)("option",{default:!0,value:"fi",children:"suomi"}),Object(n.jsx)("option",{value:"vi",children:"Ti\u1ebfng Vi\u1ec7t"})]}),Object(n.jsx)("text",{className:"date-time",children:Object(n.jsx)(ee.a,{value:e.date,year:"numeric",month:"numeric",day:"numeric",weekday:"long"})})]}),Object(n.jsxs)(j.c,{children:[Object(n.jsx)(j.a,{path:"/register",children:Object(n.jsx)(Z,{host:t})}),Object(n.jsx)(j.a,{path:"/login",children:Object(n.jsx)($,{host:t,userLoggedIn:S,onChange:function(){C(!0)}})}),Object(n.jsx)(j.a,{path:"/tentit",children:Object(n.jsx)(W,{host:t})}),Object(n.jsx)(j.a,{path:"/",children:Object(n.jsx)(te,{})})]})]})})})};r.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(O,{children:Object(n.jsx)(ae,{date:Date.now()})})}),document.getElementById("root"))},74:function(e){e.exports=JSON.parse('{"tentit.button":"Tentit","login.button":"Kirjaudu","register.button":"Rekister\xf6idy","logout.button":"Poistu","firstName":"Etunimi","surName":"Sukunimi","email":"S\xe4hk\xf6posti","password":"Salasana","admin":"Opettajan salasana","question":"Kysymys","add-answer":"Lis\xe4\xe4 vastaus","add-question":"Lis\xe4\xe4 kysymys","answer":"Vastaus","exam-changed":"Tentin nime\xe4 muokattu","question-changed":"Kysymyst\xe4 muokattu","answer-changed":"Vastausta muokattu","new-exam":"Lis\xe4tty uusi tentti","new-question":"Lis\xe4tty uusi kysymys","new-answer":"Lis\xe4tty uusi vastaus","delete-exam":"Tentti poistettu","delete-question":"Kysymys poistettu","delete-answer":"Vastaus poistettu","new-exam-title":"Kirjoita uuden tentin nimi"}')},75:function(e){e.exports=JSON.parse('{"tentit.button":"K\u1ef3 thi","login.button":"\u0110\u0103ng nh\xe2\u0323p","register.button":"\u0110\u0103ng k\xfd","logout.button":"\u0110\u0103ng xu\u1ea5t","firstName":"T\xean \u0111\u1ea7u ti\xean","surName":"H\u1ecd","email":"email","password":"m\u1eadt kh\u1ea9u","admin":"H\u1ed3 Ch\xed Minh?","question":"C\xe2u ch\xe2\u0341t v\xe2\u0341n","add-answer":"Th\xeam c\xe2u tr\u1ea3 l\u1eddi","add-question":"Th\xeam c\xe2u h\u1ecfi","answer":"C\xe2u tr\u1ea3 l\u1eddi","exam-changed":"T\xean b\xe0i ki\u1ec3m tra \u0111\xe3 thay \u0111\u1ed5i","question-changed":"C\xe2u h\u1ecfi \u0111\xe3 thay \u0111\u1ed5i","answer-changed":"C\xe2u tr\u1ea3 l\u1eddi \u0111\xe3 thay \u0111\u1ed5i","new-exam":"B\xe0i ki\u1ec3m tra m\u1edbi \u0111\xe3 \u0111\u01b0\u1ee3c th\xeam v\xe0o","new-question":"\u0110\xe3 th\xeam c\xe2u h\u1ecfi m\u1edbi","new-answer":"\u0110\xe3 th\xeam c\xe2u tr\u1ea3 l\u1eddi m\u1edbi","delete-exam":"\u0110\xe3 x\xf3a b\xe0i ki\u1ec3m tra","delete-question":"\u0110\xe3 x\xf3a c\xe2u h\u1ecfi","delete-answer":"\u0110\xe3 x\xf3a c\xe2u tr\u1ea3 l\u1eddi","new-exam-title":"Nh\u1eadp t\xean b\xe0i ki\u1ec3m tra m\u1edbi"}')},97:function(e){e.exports=JSON.parse('{"tentit.button":"Exams","login.button":"Login","register.button":"Register","logout.button":"Log out","firstName":"First name","surName":"Last name","email":"email","password":"Password","admin":"Teacher password","question":"Question","add-answer":"Add answer","add-question":"Add question","answer":"Answer","exam-changed":"Exam name changed","question-changed":"Question changed","answer-changed":"Answer changed","new-exam":"New exam created","new-question":"New question added","new-answer":"New answer added","delete-exam":"Exam deleted","delete-question":"Question deleted","delete-answer":"Answer deleted","new-exam-title":"Type new exam name"}')}},[[156,1,2]]]);
//# sourceMappingURL=main.961d20d8.chunk.js.map